<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dise√±o de Bases de Datos</title>
  <style>
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #34db55;
      --accent-color: #e74c3c;
      --light-color: #ecf0f1;
      --dark-color: #34495e;
      --bg-color: #ffffff;
      --text-color: #333333;
      --content-bg: #ffffff;
      --shadow-color: rgba(0, 0, 0, 0.1);
      --feedback-bg: rgba(255, 255, 255, 0.9);
      --opcion-hover: #d6eaf8;
      --success-color: #27ae60;
      --warning-color: #f39c12;
    }

    .dark-mode {
      --primary-color: #81c784;
      --secondary-color: #2e7d32;
      --accent-color: #ef5350;
      --light-color: #424242;
      --dark-color: #bdbdbd;
      --bg-color: #121212;
      --text-color: #e0e0e0;
      --content-bg: #1e1e1e;
      --shadow-color: rgba(0, 0, 0, 0.5);
      --feedback-bg: rgba(30, 30, 30, 0.9);
      --opcion-hover: #4a5e3a;
      --success-color: #388e3c;
      --warning-color: #f57c00;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      width: 90%;
      max-width: 800px;
      background-color: var(--content-bg);
      border-radius: 10px;
      box-shadow: 0 4px 15px var(--shadow-color);
      padding: 30px;
      margin: 30px 0;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    h1, h2 {
      color: var(--primary-color);
      text-align: center;
      margin-bottom: 30px;
      font-size: clamp(1.8rem, 4vw, 2.2rem);
      border-bottom: 2px solid var(--secondary-color);
      padding-bottom: 10px;
      transition: color 0.3s;
    }

    .pregunta {
      background-color: var(--content-bg);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 25px;
      box-shadow: 0 2px 8px var(--shadow-color);
      border-left: 4px solid var(--secondary-color);
      transition: transform 0.3s ease, box-shadow 0.3s, background-color 0.3s;
    }

    .pregunta:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px var(--shadow-color);
    }

    .pregunta label {
      display: block;
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 15px;
      font-size: clamp(1rem, 2vw, 1.1rem);
      line-height: 1.4;
      transition: color 0.3s;
    }

    .opciones {
      margin: 15px 0;
    }

    .opcion {
      display: block;
      margin: 10px 0;
      padding: 10px 15px;
      background-color: var(--light-color);
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.2s ease;
      color: var(--text-color);
    }

    .opcion:hover {
      background-color: var(--opcion-hover);
    }

    .opcion input {
      margin-right: 10px;
    }

    .botones {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    button {
      padding: 12px 25px;
      border: none;
      border-radius: 5px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .verificar {
      background-color: var(--secondary-color);
      color: white;
    }

    .verificar:hover {
      background-color: var(--primary-color);
      transform: translateY(-2px);
    }

    .reiniciar {
      background-color: var(--accent-color);
      color: white;
      margin-top: 30px;
    }

    .reiniciar:hover {
      background-color: #c0392b;
      transform: translateY(-2px);
    }

    .feedback {
      margin-top: 15px;
      padding: 12px;
      border-radius: 5px;
      font-weight: 600;
      display: none;
      background-color: var(--feedback-bg);
    }

    .correcto {
      color: var(--success-color);
      border-left: 4px solid var(--success-color);
    }

    .incorrecto {
      color: var(--accent-color);
      border-left: 4px solid var(--accent-color);
    }

    .resultados {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background-color: var(--light-color);
      border-radius: 8px;
      display: none;
      color: var(--text-color);
    }

    .progress-container {
      width: 100%;
      background-color: var(--dark-color);
      border-radius: 5px;
      margin: 20px 0;
    }

    .progress-bar {
      height: 20px;
      background-color: var(--success-color);
      border-radius: 5px;
      width: 0%;
      transition: width 0.5s ease, background-color 0.3s;
    }

    .volver-menu {
      display: inline-block;
      margin-top: 25px;
      padding: 12px 25px;
      background-color: var(--dark-color);
      color: white;
      border-radius: 5px;
      font-weight: 600;
      text-decoration: none;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .volver-menu:hover {
      background-color: var(--primary-color);
      transform: translateY(-2px);
    }

    .theme-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: var(--secondary-color);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 2px 5px var(--shadow-color);
      font-size: 1.2em;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: background-color 0.3s;
    }

    .theme-toggle:hover {
      background-color: var(--primary-color);
    }

    @media (max-width: 768px) {
      .container {
        width: 95%;
        padding: 20px;
      }

      .pregunta {
        padding: 15px;
      }

      button, .volver-menu {
        padding: 10px 20px;
      }

      .botones {
        flex-direction: column;
        align-items: center;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 15px;
        margin: 15px 0;
      }

      h1 {
        font-size: 1.5rem;
        margin-bottom: 20px;
      }

      .pregunta {
        padding: 12px;
        margin-bottom: 20px;
      }

      .opcion {
        padding: 8px 12px;
      }

      .feedback {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Base de Datos</h1>
   <form id="cuestionario"></form>

    <button class="reiniciar" onclick="reiniciarCuestionario()">Reiniciar Cuestionario</button>

    <div class="resultados" id="resultados">
      <h2>Resultados</h2>
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      <p id="puntuacion"></p>
    </div>

    <div class="botones">
      <a href="../index.html" class="volver-menu">‚Üê Volver al Men√∫ Principal</a>
    </div>
  </div>

  <button class="theme-toggle" id="themeToggle">üåì</button>

  <script>
    // Funci√≥n para cambiar entre modo claro y oscuro
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    
    // Verificar preferencia del usuario
    const userPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const currentTheme = localStorage.getItem('theme');
    
    // Aplicar tema guardado o preferencia del sistema
    if (currentTheme === 'dark' || (!currentTheme && userPrefersDark)) {
      body.classList.add('dark-mode');
      themeToggle.textContent = '‚òÄÔ∏è';
    } else {
      themeToggle.textContent = 'üåô';
    }
    
    // Alternar tema al hacer clic
    themeToggle.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      
      // Guardar preferencia
      const isDark = body.classList.contains('dark-mode');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      
      // Cambiar icono
      themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    });
    
    // Escuchar cambios en la preferencia del sistema
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
      const newColorScheme = e.matches ? 'dark' : 'light';
      if (!localStorage.getItem('theme')) {
        body.classList.toggle('dark-mode', newColorScheme === 'dark');
        themeToggle.textContent = newColorScheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
      }
    });

    const preguntas = [
        ["¬øC√≥mo se denomina el software que permite a los usuarios procesar, describir, administrar y recuperar los datos almacenados de una base de datos?", "El resto de las opciones son todas correctas", ["SGBD", "Sistema de Gesti√≥n de Base de Datos", "El resto de las opciones son todas correctas", "DBMS"]],
        ["En este tipo de relaci√≥n un registro en la tabla secundaria tiene o posee varios registros en la tabla principal.", "Varios a uno", ["Uno a uno", "Varios a varios", "Uno a Varios", "Varios a uno"]],
        ["M√©todo mediante el cual, una base de datos genera un archivo auxiliar donde se ubica la informaci√≥n r√°pidamente mediante un campo clave.", "Indexaci√≥n", ["Generalizaci√≥n", "Especializaci√≥n", "Indexaci√≥n", "Normalizaci√≥n"]],
        ["La consulta para crear una lista de todos los n√∫meros de pr√©stamo y del importe de estos puede escribirse como:", "œÄ n√∫mero-pr√©stamo, importe (pr√©stamo)", ["œÄ n√∫mero-pr√©stamo, n√∫mero (pr√©stamo)", "œÄ n√∫mero-pr√©stamo, n√∫mero (clientes)", "Ninguna de las opciones es correcta", "œÄ n√∫mero-pr√©stamo, importe (pr√©stamo)"]],
        ["Un demandante de empleo puede realizar varios cursos y, a su vez, un curso puede ser realizado por varios demandantes. ¬øQu√© cardinalidad representa esta relaci√≥n?", "Una relaci√≥n muchos a muchos.", ["Una relaci√≥n muchos a muchos.", "Una relaci√≥n uno a uno.", "Una relaci√≥n uno a muchos.", "Una relaci√≥n muchos a uno."]],
        ["¬øD√≥nde se almacenar√≠a la fecha de emisi√≥n de una factura en un esquema Entidad-Relaci√≥n?", "En la entidad FACTURA.", ["En la entidad FACTURA.", "En la relaci√≥n que asocie la entidad FACTURA y CLIENTE.", "En la entidad CLIENTE, debiendo a√±adirse NUM_FACTURA a dicha entidad.", "Todas las respuestas son correctas."]],
        ["Operador que permite mostrar filas, columnas o registros:", "Proyecci√≥n", ["Producto cartesiano", "Selecci√≥n", "Ninguna de las opciones es correcta", "Proyecci√≥n"]],
        ["JOIN es:", "producto cartesiano, selecci√≥n y proyecci√≥n", ["uni√≥n, selecci√≥n y producto cartesiano", "producto cartesiano, selecci√≥n y proyecci√≥n", "divisi√≥n, selecci√≥n y producto cartesiano", "intersecci√≥n, selecci√≥n y producto cartesiano"]],
        ["Al proceso de transformar datos en informaci√≥n, informaci√≥n en conocimiento y conocimiento en sabidur√≠a se conoce como:", "Inteligencia de negocios", ["Inteligencia de negocios", "An√°lisis de datos", "Ninguna de las opciones es correcta.", "Miner√≠a de datos"]],
        ["Si una tabla se divide en dos para eliminar dependencias transitivas, ¬øa qu√© forma normal se est√° llevando?", "3FN", ["1FN", "4FN", "2FN", "3FN"]],
        ["¬øCu√°l de los siguientes modelos de dise√±o es m√°s adecuado para representar sistemas orientados a la toma de decisiones con estructuras de agregaci√≥n y medida?", "Modelo Estrella", ["Modelo Estrella", "Modelo Entidad-Relaci√≥n", "Modelo Relacional Normalizado", "Modelo Objeto-Relacional"]],
        ["¬øQu√© t√©cnica permite mejorar la eficiencia en consultas OLAP al reducir la redundancia de datos en estructuras dimensionales complejas?", "Modelo copo de nieve", ["Normalizaci√≥n en tercera forma normal", "Modelo copo de nieve", "Replicaci√≥n s√≠ncrona", "√çndices agrupados"]],
        ["En un entorno de producci√≥n, ¬øcu√°l de las siguientes tecnolog√≠as es adecuada para permitir conectividad entre aplicaciones y bases de datos heterog√©neas?", "JDBC", ["HTTP", "JDBC", "HTML", "XML"]],
        ["¬øCu√°l de las siguientes afirmaciones describe mejor la utilidad de un proceso ETL en un entorno de producci√≥n?", "Extrae, transforma y carga datos desde fuentes heterog√©neas a un Data Warehouse", ["Se encarga √∫nicamente de validar transacciones en l√≠nea", "Permite eliminar la redundancia en bases relacionales", "Extrae, transforma y carga datos desde fuentes heterog√©neas a un Data Warehouse", "Fragmenta las tablas para optimizar el almacenamiento local"]],
        ["¬øCu√°l es la principal ventaja de la replicaci√≥n de datos en sistemas distribuidos?", "Mejorar la disponibilidad y tolerancia a fallos", ["Aumentar el tama√±o de los datos", "Evitar el uso de √≠ndices", "Mejorar la disponibilidad y tolerancia a fallos", "Facilitar la eliminaci√≥n de datos duplicados"]],
        ["¬øQu√© tipo de arquitectura distribuye las tareas de procesamiento entre m√∫ltiples nodos, sin necesidad de un nodo central coordinador?", "Punto a punto", ["Cliente-servidor", "Multipunto", "Punto a punto", "Maestro-esclavo"]],
        ["¬øQu√© t√©cnica de dise√±o permite que una base de datos distribuida divida sus datos l√≥gicamente para mejorar rendimiento?", "Fragmentaci√≥n", ["Fragmentaci√≥n", "Denormalizaci√≥n", "Agregaci√≥n", "Replicaci√≥n"]],
        ["¬øCu√°l es el principal desaf√≠o de ejecutar transacciones en una base de datos distribuida?", "Garantizar atomicidad, consistencia, aislamiento y durabilidad (ACID) en m√∫ltiples nodos", ["Indexar correctamente todas las tablas", "Eliminar relaciones entre entidades distribuidas", "Evitar el uso de claves primarias en las r√©plicas", "Garantizar atomicidad, consistencia, aislamiento y durabilidad (ACID) en m√∫ltiples nodos"]],
        ["¬øQu√© lenguaje permite definir la estructura de objetos y sus relaciones en un sistema de base de datos orientado a objetos?", "ODL", ["ODL", "SQL", "DDL", "XML"]],
        ["¬øCu√°l de los siguientes constructores orientados a objetos describe correctamente la herencia jer√°rquica de clases?", "Especializaci√≥n / Generalizaci√≥n", ["Agregaci√≥n", "Asociaci√≥n", "Serializaci√≥n", "Especializaci√≥n / Generalizaci√≥n"]],
        ["¬øCu√°l de las siguientes caracter√≠sticas diferencia a las m√°quinas de los humanos en el contexto de la inteligencia artificial?", "Capacidad de conciencia.", ["Capacidad de aprendizaje experiencial.", "Capacidad de autocorrecci√≥n.", "Capacidad de aprendizaje asociativo.", "Capacidad de conciencia."]],
        ["¬øCu√°l es el objetivo principal del algoritmo Minimax?", "Maximizar la utilidad de un jugador mientras minimiza la del otro.", ["Maximizar la utilidad de un jugador mientras minimiza la del otro.", "Minimizar el tiempo de b√∫squeda.", "Encontrar la soluci√≥n √≥ptima en entornos din√°micos.", "Reducir el uso de memoria en la b√∫squeda."]],
        ["¬øQu√© caracteriza a la b√∫squeda heur√≠stica A*?", "Combina el costo del camino actual con la heur√≠stica para evaluar nodos.", ["Utiliza la heur√≠stica para evaluar nodos.", "Combina el costo del camino actual con la heur√≠stica para evaluar nodos.", "La diferencia entre el costo del camino actual y la heur√≠stica.", "Es un algoritmo de b√∫squeda no informada."]],
        ["¬øQu√© es un predicado en l√≥gica de primer orden?", "Una expresi√≥n que afirma algo sobre alg√∫n objeto o relaci√≥n entre objetos.", ["Una declaraci√≥n que siempre es verdadera.", "Una funci√≥n que toma argumentos y devuelve un valor.", "Una expresi√≥n que afirma algo sobre alg√∫n objeto o relaci√≥n entre objetos.", "Una constante o variable que se relaciona entre hechos."]],
        ["En l√≥gica de predicados, ¬øc√≥mo se formaliza la proposici√≥n 'Los n√∫meros divisibles para s√≠ mismo son n√∫mero primos'?", "‚àÄx (DivisiblePorS√≠Mismo(x) ‚Üí Primo(x))", ["‚àÄx (DivisiblePorS√≠Mismo(x) ‚Üí Primo(x))", "‚àÄx (Primo(x) ‚Üí DivisiblePorS√≠Mismo(x))", "‚àÉx (DivisiblePorS√≠Mismo(x) ‚àß Primo(x))", "‚àÉx (Primo(x) ‚Üí DivisiblePorS√≠Mismo(x))"]],
        ["¬øCu√°l de las siguientes caracter√≠sticas no es t√≠pica de los Sistemas Expertos?", "Ejecuci√≥n de reglas secuenciales con estructuras de control.", ["Razonamiento guiado por las metas.", "Manejo de incertidumbre avanzada.", "Razonamiento guiado por los datos.", "Ejecuci√≥n de reglas secuenciales con estructuras de control."]],
        ["¬øQu√© es la inferencia en l√≥gica de predicados?", "El proceso de derivar conclusiones l√≥gicas a partir de premisas dadas mediante reglas.", ["El proceso de asignar valores a variables seg√∫n los hechos.", "El proceso de derivar conclusiones l√≥gicas a partir de premisas dadas mediante reglas.", "El proceso de simplificar ecuaciones matem√°ticas.", "El proceso de almacenar datos en una base de conocimiento."]],
        ["¬øCu√°l de las siguientes afirmaciones describe mejor el Teorema de Bayes?", "Una f√≥rmula matem√°tica utilizada para actualizar la probabilidad de que ocurra un evento bas√°ndose en nuevas evidencias.", ["Una f√≥rmula matem√°tica utilizada para calcular la media de un conjunto de datos bas√°ndose en nuevas evidencias.", "Una regla l√≥gica utilizada para derivar conclusiones a partir de premisas de hechos y reglas.", "Una f√≥rmula matem√°tica utilizada para actualizar la probabilidad de que ocurra un evento bas√°ndose en nuevas evidencias.", "Un algoritmo de b√∫squeda utilizado en inteligencia artificial."]],
        ["¬øQu√© representa la expresi√≥n ‚àÄx (Estudiante(x) ‚Üí Feliz(x))?", "Todos los estudiantes son felices.", ["Todos los estudiantes son felices.", "Ning√∫n estudiante es feliz.", "Al menos un estudiante es feliz.", "Algunos estudiantes son felices."]],
        ["¬øCu√°l de las siguientes opciones define mejor el concepto de machine learning?", "Desarrollo de t√©cnicas y algoritmos que aprendan y mejoren con el tiempo atraves de datos o la experiencia.", ["Algoritmos que tratan de simular el comportamiento racional e inteligente del humano.", "T√©cnica de aprendizaje supervisado.", "Desarrollo de t√©cnicas y algoritmos que aprendan y mejoren con el tiempo atraves de datos o la experiencia.", "T√©cnica para escribir programas con instrucciones detalladas para resolver problemas espec√≠ficos."]],
        ["En el contexto de aprendizaje supervisado, ¬øcu√°l es el principal beneficio de utilizar la regularizaci√≥n en modelos de machine learning?", "Reduce el riesgo de sobreajuste penalizando los coeficientes grandes y, por ende, mejorando la generalizaci√≥n del modelo en datos no conocidos.", ["Aumenta la complejidad del modelo para mejorar la capacidad de ajuste a los datos de entrenamiento.", "Incrementa la precisi√≥n del modelo al eliminar caracter√≠sticas irrelevantes de manera autom√°tica.", "Mejora la interpretaci√≥n del modelo al omitir las relaciones entre las variables dependientes e independientes.", "Reduce el riesgo de sobreajuste penalizando los coeficientes grandes y, por ende, mejorando la generalizaci√≥n del modelo en datos no conocidos."]],
        ["En el proceso de entrenamiento de un modelo de machine learning, ¬øcu√°l es el prop√≥sito de utilizar un conjunto de validaci√≥n adem√°s del conjunto de entrenamiento?", "Probar la capacidad del modelo para generalizar a datos no conocidos y ajustar hiperpar√°metros para minimizar el error en este conjunto.", ["Ajustar los hiperpar√°metros del modelo para minimizar el error en el conjunto de entrenamiento.", "Mejorar la precisi√≥n del modelo eliminando caracter√≠sticas redundantes y colineales.", "Probar la capacidad del modelo para generalizar a datos no conocidos y ajustar hiperpar√°metros para minimizar el error en este conjunto.", "Aumentar el tama√±o del conjunto de datos de entrenamiento para mejorar la capacidad de ajuste del modelo."]],
        ["¬øQu√© objetivo principal persigue el algoritmo de clustering en el contexto del aprendizaje no supervisado?", "Agrupar los datos de manera que, los datos dentro de cada conjunto sean m√°s similares entre s√≠, y disimilares de los datos de otros conjuntos.", ["Agrupar los datos de manera que, los datos dentro de cada conjunto sean m√°s similares entre s√≠, y disimilares de los datos de otros conjuntos.", "Predecir valores num√©ricos continuos a partir de datos de entrada en base a patrones de los datos.", "Optimizar la precisi√≥n de un modelo de clasificaci√≥n mediante el ajuste de hiperpar√°metros.", "Generar nuevas caracter√≠sticas a partir de los datos originales para mejorar la calidad del modelo."]],
        ["¬øCu√°l es el principal objetivo del algoritmo de aprendizaje no supervisado An√°lisis de Componentes Principales - PCA?", "Reducci√≥n de la dimensionalidad de las caracter√≠sticas.", ["Clasificaci√≥n de datos en base a las caracter√≠sticas proporcionadas.", "Predicci√≥n de datos en base a las caracter√≠sticas proporcionadas.", "Conformar conjuntos de datos seg√∫n patrones.", "Reducci√≥n de la dimensionalidad de las caracter√≠sticas."]],
        ["¬øCu√°l es la diferencia entre regresi√≥n lineal y log√≠stica?", "En regresi√≥n lineal la variable dependiente excede el rango entre 0 y 1, en regresi√≥n log√≠stica est√° dentro del rango 0 y 1.", ["En regresi√≥n lineal la variable independiente excede el rango entre 0 y 1, en regresi√≥n log√≠stica est√° dentro del rango 0 y 1.", "En regresi√≥n lineal la variable dependiente excede el rango entre 0 y 1, en regresi√≥n log√≠stica est√° dentro del rango 0 y 1.", "En regresi√≥n lineal y log√≠stica el rango est√° entre 0 y 1.", "En regresi√≥n lineal la variable dependiente est√° en el rango entre 0 y 1, en regresi√≥n log√≠stica excede el rango entre 0 y 1."]]


    ];

    let respuestasCorrectas = 0;
    const form = document.getElementById("cuestionario");

    function renderizarCuestionario() {
      respuestasCorrectas = 0;
      form.innerHTML = '';

      preguntas.forEach(([pregunta, respuestaCorrecta, opciones], i) => {
        const preguntaElement = document.createElement('div');
        preguntaElement.className = 'pregunta';
        preguntaElement.innerHTML = `
          <label>${i + 1}. ${pregunta}</label>
          <div class="opciones">
            ${opciones.map((opcion, j) => `
              <label class="opcion">
                <input type="radio" name="respuesta${i}" value="${escapeHtml(opcion)}">
                ${escapeHtml(opcion)}
              </label>
            `).join('')}
          </div>
          <div class="botones">
            <button type="button" class="verificar" onclick="verificarRespuesta(${i}, '${escapeHtml(respuestaCorrecta)}')">
              Verificar
            </button>
          </div>
          <div class="feedback" id="feedback${i}"></div>
        `;
        form.appendChild(preguntaElement);
      });

      document.getElementById('resultados').style.display = 'none';
    }

    function escapeHtml(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }

    function verificarRespuesta(index, respuestaCorrecta) {
      const opciones = document.getElementsByName(`respuesta${index}`);
      let seleccion = "";
      opciones.forEach((opcion) => {
        if (opcion.checked) seleccion = opcion.value;
      });

      const feedback = document.getElementById(`feedback${index}`);
      if (seleccion === respuestaCorrecta) {
        feedback.innerHTML = "‚úì <span class='correcto'>¬°Correcto! Buen trabajo.</span>";
        feedback.style.display = 'block';
        respuestasCorrectas++;
      } else if (seleccion === "") {
        feedback.innerHTML = "‚ö† <span class='incorrecto'>Por favor selecciona una respuesta.</span>";
        feedback.style.display = 'block';
        return;
      } else {
        feedback.innerHTML = `‚úó <span class='incorrecto'>Incorrecto. La respuesta correcta es: ${respuestaCorrecta}</span>`;
        feedback.style.display = 'block';
      }

      verificarCompletado();
    }

    function verificarCompletado() {
      let todasRespondidas = true;
      preguntas.forEach((_, i) => {
        const opciones = document.getElementsByName(`respuesta${i}`);
        let seleccionada = false;
        opciones.forEach(opcion => {
          if (opcion.checked) seleccionada = true;
        });
        if (!seleccionada) todasRespondidas = false;
      });

      if (todasRespondidas) {
        mostrarResultados();
      }
    }

    function mostrarResultados() {
      const resultados = document.getElementById('resultados');
      const puntuacion = document.getElementById('puntuacion');
      const progressBar = document.getElementById('progress-bar');

      const porcentaje = Math.round((respuestasCorrectas / preguntas.length) * 100);

      puntuacion.textContent = `Has acertado ${respuestasCorrectas} de ${preguntas.length} preguntas (${porcentaje}%)`;
      progressBar.style.width = `${porcentaje}%`;

      if (porcentaje >= 80) {
        progressBar.style.backgroundColor = 'var(--success-color)';
      } else if (porcentaje >= 50) {
        progressBar.style.backgroundColor = 'var(--warning-color)';
      } else {
        progressBar.style.backgroundColor = 'var(--accent-color)';
      }

      resultados.style.display = 'block';
      window.scrollTo({
        top: document.body.scrollHeight,
        behavior: 'smooth'
      });
    }

    function reiniciarCuestionario() {
      renderizarCuestionario();
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Cargar el tema guardado
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      document.getElementById('themeToggle').textContent = '‚òÄÔ∏è';
    }

    renderizarCuestionario();
  </script>
</body>
</html>
