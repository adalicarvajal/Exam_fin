<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Programaci√≥n</title>
  <style>
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #34db55;
      --accent-color: #e74c3c;
      --light-color: #ecf0f1;
      --dark-color: #34495e;
      --bg-color: #ffffff;
      --text-color: #333333;
      --content-bg: #ffffff;
      --shadow-color: rgba(0, 0, 0, 0.1);
      --feedback-bg: rgba(255, 255, 255, 0.9);
      --opcion-hover: #d6eaf8;
      --success-color: #27ae60;
      --warning-color: #f39c12;
    }

    .dark-mode {
      --primary-color: #81c784;
      --secondary-color: #2e7d32;
      --accent-color: #ef5350;
      --light-color: #424242;
      --dark-color: #bdbdbd;
      --bg-color: #121212;
      --text-color: #e0e0e0;
      --content-bg: #1e1e1e;
      --shadow-color: rgba(0, 0, 0, 0.5);
      --feedback-bg: rgba(30, 30, 30, 0.9);
      --opcion-hover: #4a5e3a;
      --success-color: #388e3c;
      --warning-color: #f57c00;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      width: 90%;
      max-width: 800px;
      background-color: var(--content-bg);
      border-radius: 10px;
      box-shadow: 0 4px 15px var(--shadow-color);
      padding: 30px;
      margin: 30px 0;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    h1, h2 {
      color: var(--primary-color);
      text-align: center;
      margin-bottom: 30px;
      font-size: clamp(1.8rem, 4vw, 2.2rem);
      border-bottom: 2px solid var(--secondary-color);
      padding-bottom: 10px;
      transition: color 0.3s;
    }

    .pregunta {
      background-color: var(--content-bg);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 25px;
      box-shadow: 0 2px 8px var(--shadow-color);
      border-left: 4px solid var(--secondary-color);
      transition: transform 0.3s ease, box-shadow 0.3s, background-color 0.3s;
    }

    .pregunta:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px var(--shadow-color);
    }

    .pregunta label {
      display: block;
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 15px;
      font-size: clamp(1rem, 2vw, 1.1rem);
      line-height: 1.4;
      transition: color 0.3s;
    }

    .opciones {
      margin: 15px 0;
    }

    .opcion {
      display: block;
      margin: 10px 0;
      padding: 10px 15px;
      background-color: var(--light-color);
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.2s ease;
      color: var(--text-color);
    }

    .opcion:hover {
      background-color: var(--opcion-hover);
    }

    .opcion input {
      margin-right: 10px;
    }

    .botones {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    button {
      padding: 12px 25px;
      border: none;
      border-radius: 5px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .verificar {
      background-color: var(--secondary-color);
      color: white;
    }

    .verificar:hover {
      background-color: var(--primary-color);
      transform: translateY(-2px);
    }

    .reiniciar {
      background-color: var(--accent-color);
      color: white;
      margin-top: 30px;
    }

    .reiniciar:hover {
      background-color: #c0392b;
      transform: translateY(-2px);
    }

    .feedback {
      margin-top: 15px;
      padding: 12px;
      border-radius: 5px;
      font-weight: 600;
      display: none;
      background-color: var(--feedback-bg);
    }

    .correcto {
      color: var(--success-color);
      border-left: 4px solid var(--success-color);
    }

    .incorrecto {
      color: var(--accent-color);
      border-left: 4px solid var(--accent-color);
    }

    .resultados {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background-color: var(--light-color);
      border-radius: 8px;
      display: none;
      color: var(--text-color);
    }

    .progress-container {
      width: 100%;
      background-color: var(--dark-color);
      border-radius: 5px;
      margin: 20px 0;
    }

    .progress-bar {
      height: 20px;
      background-color: var(--success-color);
      border-radius: 5px;
      width: 0%;
      transition: width 0.5s ease, background-color 0.3s;
    }

    .volver-menu {
      display: inline-block;
      margin-top: 25px;
      padding: 12px 25px;
      background-color: var(--dark-color);
      color: white;
      border-radius: 5px;
      font-weight: 600;
      text-decoration: none;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .volver-menu:hover {
      background-color: var(--primary-color);
      transform: translateY(-2px);
    }

    .theme-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: var(--secondary-color);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 2px 5px var(--shadow-color);
      font-size: 1.2em;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: background-color 0.3s;
    }

    .theme-toggle:hover {
      background-color: var(--primary-color);
    }

    @media (max-width: 768px) {
      .container {
        width: 95%;
        padding: 20px;
      }

      .pregunta {
        padding: 15px;
      }

      button, .volver-menu {
        padding: 10px 20px;
      }

      .botones {
        flex-direction: column;
        align-items: center;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 15px;
        margin: 15px 0;
      }

      h1 {
        font-size: 1.5rem;
        margin-bottom: 20px;
      }

      .pregunta {
        padding: 12px;
        margin-bottom: 20px;
      }

      .opcion {
        padding: 8px 12px;
      }

      .feedback {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Programaci√≥n</h1>
    <form id="cuestionario"></form>

    <button class="reiniciar" onclick="reiniciarCuestionario()">Reiniciar Cuestionario</button>

    <div class="resultados" id="resultados">
      <h2>Resultados</h2>
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      <p id="puntuacion"></p>
    </div>

    <div class="botones">
      <a href="../index.html" class="volver-menu">‚Üê Volver al Men√∫ Principal</a>
    </div>
  </div>

  <button class="theme-toggle" id="themeToggle">üåì</button>

  <script>
    // Funci√≥n para cambiar entre modo claro y oscuro
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    
    // Verificar preferencia del usuario
    const userPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const currentTheme = localStorage.getItem('theme');
    
    // Aplicar tema guardado o preferencia del sistema
    if (currentTheme === 'dark' || (!currentTheme && userPrefersDark)) {
      body.classList.add('dark-mode');
      themeToggle.textContent = '‚òÄÔ∏è';
    } else {
      themeToggle.textContent = 'üåô';
    }
    
    // Alternar tema al hacer clic
    themeToggle.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      
      // Guardar preferencia
      const isDark = body.classList.contains('dark-mode');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      
      // Cambiar icono
      themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
    });
    
    // Escuchar cambios en la preferencia del sistema
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
      const newColorScheme = e.matches ? 'dark' : 'light';
      if (!localStorage.getItem('theme')) {
        body.classList.toggle('dark-mode', newColorScheme === 'dark');
        themeToggle.textContent = newColorScheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
      }
    });

    const preguntas = [
        ["¬øQu√© se debe hacer antes de salir de una regi√≥n cr√≠tica?", "Liberar el sem√°foro", ["Cambiar la condici√≥n", "Dormir el hilo", "Liberar el sem√°foro", "Incrementar el hilo"]],
        ["¬øCu√°l es el problema que se busca evitar usando sem√°foros?", "Condiciones de carrera", ["Fragmentaci√≥n externa", "Interrupciones del sistema", "Condiciones de carrera", "Memoria insuficiente"]],
        ["Una regi√≥n cr√≠tica condicional", "Se ejecuta solo si se cumple una condici√≥n", ["No permite interrupciones", "Usa un ciclo infinito", "Se ejecuta solo si se cumple una condici√≥n", "Siempre se ejecuta"]],
        ["¬øCu√°l de las siguientes afirmaciones es verdadera respecto a la arquitectura MISD?", "Es menos com√∫n que las arquitecturas SIMD y MIMD.", ["Es menos com√∫n que las arquitecturas SIMD y MIMD.", "Ofrece el mejor rendimiento para aplicaciones de gr√°ficos.", "No requiere sincronizaci√≥n de procesadores.", "Es ampliamente utilizada en computadoras dom√©sticas."]],
        ["¬øEn qu√© tipo de aplicaci√≥n es m√°s ventajosa la arquitectura MIMD?", "Simulaciones que requieren diferentes c√°lculos en diferentes partes del modelo.", ["Operaciones de punto flotante intensivas en un solo conjunto de datos.", "Procesamiento de gr√°ficos en tiempo real.", "Simulaciones que requieren diferentes c√°lculos en diferentes partes del modelo.", "Procesamiento de grandes vol√∫menes de datos id√©nticos."]],
        ["En el lenguaje de programaci√≥n Java ¬øQu√© m√©todo hace que se inicie el proceso run() de una clase que hereda de la clase Thread?", "start()", ["run()", "Ini()", "join()", "start()"]],
        ["¬øQu√© tipo de sistemas es m√°s adecuado para la programaci√≥n con OpenMP?", "Sistemas de memoria compartida", ["Sistemas distribuidos", "Sistemas con redes de alta velocidad", "Sistemas de memoria compartida", "Sistemas basados en GPU"]],
        ["¬øCu√°l es el prop√≥sito principal de MPI (Message Passing Interface)?", "Comunicaci√≥n entre procesos en sistemas distribuidos", ["Comunicaci√≥n entre procesos en sistemas distribuidos", "Generaci√≥n de directivas de compilador para la paralelizaci√≥n", "Paralelizaci√≥n de bucles en sistemas multiprocesador", "Creaci√≥n y administraci√≥n de hilos en sistemas de memoria compartida"]],
        ["¬øCu√°l de estas NO es una m√©trica para evaluar algoritmos paralelos?", "Concurrencia", ["Eficiencia", "Concurrencia", "Speedup", "Latencia"]],
        ["¬øQu√© problema busca resolver el balanceo de carga est√°tico?", "El desequilibrio en la distribuci√≥n de trabajo entre procesadores.", ["El desequilibrio en la distribuci√≥n de trabajo entre procesadores.", "La falta de recursos de hardware en el sistema.", "La sobrecarga de comunicaci√≥n entre procesadores.", "La variabilidad en los tiempos de ejecuci√≥n de tareas."]],
        ["¬øCu√°l es el objetivo principal del balanceo de carga din√°mica?", "Mantener una carga equilibrada entre procesadores en tiempo de ejecuci√≥n.", ["Mantener una carga equilibrada entre procesadores en tiempo de ejecuci√≥n.", "Desactivar procesadores para reducir el consumo de energ√≠a.", "Distribuir tareas est√°ticamente antes de la ejecuci√≥n.", "Maximizar la carga de trabajo en cada procesador."]],
        ["¬øQu√© se monitorea en el balanceo de carga din√°mico?", "La carga de trabajo de cada procesador.", ["La carga de trabajo en un solo procesador.", "La carga de trabajo de cada procesador.", "El estado de ejecuci√≥n de los procesadores.", "El tiempo de ejecuci√≥n de una √∫nica tarea."]],
        ["¬øCu√°l es el prop√≥sito principal de un balanceador de carga en una arquitectura web?", "Distribuir el tr√°fico de red entre m√∫ltiples servidores web para optimizar el rendimiento.", ["Distribuir el tr√°fico de red entre m√∫ltiples servidores web para optimizar el rendimiento.", "Proteger el servidor de ataques DDoS.", "Realizar copias de seguridad autom√°ticas.", "Almacenar datos de los usuarios."]],
        ["¬øQu√© problema puede surgir en un esquema de balanceo centralizado con un nodo maestro?", "Cuello de botella en el nodo maestro cuando hay demasiadas solicitudes.", ["Falta de comunicaci√≥n entre los nodos trabajadores.", "Cuello de botella en el nodo maestro cuando hay demasiadas solicitudes.", "Incapacidad del nodo maestro para ejecutar tareas asignadas.", "Excesiva latencia en la ejecuci√≥n de las tareas debido a la descentralizaci√≥n."]],
        ["¬øQu√© t√©cnica se usa com√∫nmente en el balanceo de carga predictivo?", "An√°lisis de datos hist√≥ricos y aprendizaje autom√°tico.", ["An√°lisis de datos hist√≥ricos y aprendizaje autom√°tico.", "Asignaci√≥n aleatoria de tareas sin considerar cargas previas.", "Robado de trabajo entre procesadores.", "Distribuci√≥n equitativa de trabajo en tiempo de ejecuci√≥n."]],
        ["¬øQu√© caracteriza a un motor gr√°fico de bajo nivel?", "Permiten acceso directo al hardware, brindan m√°xima flexibilidad, pero requieren mayor dificultad de programaci√≥n.", ["Son motores como Unity o Unreal.", "Funcionan √∫nicamente con lenguajes de programaci√≥n orientados a objetos.", "Ofrecen herramientas visuales avanzadas como motores de f√≠sicas integradas.", "Permiten acceso directo al hardware, brindan m√°xima flexibilidad, pero requieren mayor dificultad de programaci√≥n."]],
        ["¬øPor qu√© la computaci√≥n gr√°fica exige gran capacidad de procesamiento?", "Porque implica algoritmos con muchos c√°lculos matem√°ticos, como rasterizaci√≥n y sombreado.", ["Porque controla dispositivos de red.", "Porque implica algoritmos con muchos c√°lculos matem√°ticos, como rasterizaci√≥n y sombreado.", "Porque almacena texto en bases de datos.", "Porque solo se encarga de los colores de fondo."]],
        ["Si tienes dos vectores A = (3, 4, 0) y B = (1, -2, 0), ¬øcu√°l es el vector suma A + B?", "(4, 2, 0)", ["(2, 2, 0)", "(4, 6, 0)", "(4, 2, 0)", "(3, 2, 0)"]],
        ["¬øCu√°l es la magnitud del vector V = (6, 8, 0)?", "10", ["48", "14", "10", "100"]],
        ["Si un vector N = (0, 0, 1) es la normal de una superficie, y la luz direccional incide con el vector L = (0, 0, -1), ¬øcu√°l es el valor del producto punto N ¬∑ L?", "-1", ["0.5", "-1", "1", "0"]],
        ["Dado el vector V = (2, -2, 1), ¬øcu√°l es el resultado de reflejarlo respecto al plano XY?", "(2, -2, -1)", ["(-2, 2, 1)", "(2, 2, 1)", "(2, -2, -1)", "(2, -2, 1)"]],
        ["Si un tri√°ngulo tiene v√©rtices en A(0, 0), B(4, 0) y C(4, 3), ¬øcu√°l es su √°rea?", "6", ["6", "8", "10", "12"]],
        ["¬øCu√°l es el n√∫mero m√≠nimo de tri√°ngulos en que puede dividirse un pol√≠gono simple de n lados mediante triangulaci√≥n?", "n ‚Äì 2", ["n ‚Äì 1", "n ‚Äì 2", "n", "n ‚Äì 3"]],
        ["¬øQu√© t√©cnica es com√∫n para la triangulaci√≥n de pol√≠gonos en computaci√≥n gr√°fica?", "Algoritmo de las orejas (Ear Clipping).", ["Transformada de Fourier.", "Regla del cord√≥n (Shoelace).", "Algoritmo de las orejas (Ear Clipping).", "M√©todo de Bresenham."]],
        ["¬øCu√°l de las siguientes matrices corresponde a una rotaci√≥n de 90¬∞ antihoraria en 2D?", "(0, -1; 1, 0)", ["(-1, 0; 0, -1)", "(0, 0; 1, 0)", "(0, 1; -1, 0)", "(0, -1; 1, 0)"]],
        ["En computaci√≥n gr√°fica, ¬øqu√© efecto produce aplicar una escala con un factor menor que 1?", "Reduce el tama√±o del objeto.", ["Lo rota 180¬∞.", "Reduce el tama√±o del objeto.", "Agranda el objeto.", "Cambia el color del objeto."]],
        ["Si escalamos un objeto en 3D solo en el eje Z, ¬øc√≥mo es la matriz de escalado?", "(1, 0, 0; 0, 1, 0; 0, 0, s)", ["(1, 0, 0; 0, 1, 0; 0, 0, s)", "(s, 0, s; 0, s, s; s, s, s)", "(1, s, 0; s, 1, 0; 0, 0, 1)", "(s, 0, 0; 0, s, 0; 0, 0, 1)"]],
        ["Si se dibuja una l√≠nea con pendiente m < 1, ¬øc√≥mo avanza el algoritmo de Bresenham?", "Incrementa solo la coordenada X en cada paso.", ["Incrementa solo la coordenada Y en cada paso.", "Salta directamente al punto final.", "Incrementa solo la coordenada X en cada paso.", "No puede dibujar l√≠neas con pendiente menor a 1."]],
        ["Si el c√≥digo de regi√≥n de dos puntos finales de una l√≠nea tiene bits comunes en 1 (AND l√≥gico ‚â† 0), ¬øqu√© indica el algoritmo de Cohen‚ÄìSutherland?", "La l√≠nea est√° completamente fuera y puede descartarse.", ["La l√≠nea est√° completamente dentro de la ventana.", "La l√≠nea est√° completamente fuera y puede descartarse.", "La l√≠nea debe dibujarse en otro color.", "La l√≠nea es visible pero parcialmente recortada."]],
        ["¬øQu√© sucede con los v√©rtices de un pol√≠gono que est√°n completamente dentro de la ventana de recorte en el algoritmo de Sutherland‚ÄìHodgman?", "Se mantienen en la lista resultante sin cambios.", ["Se transforman en l√≠neas rectas.", "Se mantienen en la lista resultante sin cambios.", "Se duplican en la lista de v√©rtices.", "Son eliminados."]],
        ["En el algoritmo de Sutherland‚ÄìHodgman, cuando una arista del pol√≠gono cruza el borde de la ventana de recorte, ¬øqu√© se calcula?", "El punto de intersecci√≥n entre la arista y el borde.", ["El √°rea total del pol√≠gono original.", "El √°ngulo de reflexi√≥n.", "El punto de intersecci√≥n entre la arista y el borde.", "La longitud de los lados restantes."]],
        ["¬øQu√© efecto visual consigue la perspectiva en computaci√≥n gr√°fica?", "Que los objetos lejanos se vean m√°s peque√±os y converjan hacia un punto de fuga.", ["Que los objetos lejanos se vean m√°s peque√±os y converjan hacia un punto de fuga.", "Que todos los objetos tengan el mismo tama√±o sin importar la distancia.", "Que los colores sean m√°s brillantes.", "Que las l√≠neas rectas se curven autom√°ticamente."]],
        ["¬øCu√°l es el prop√≥sito de dividir las coordenadas transformadas por el componente w en la proyecci√≥n en perspectiva?", "Para convertir coordenadas 3D en coordenadas de pantalla, aplicando la perspectiva.", ["Para determinar el tama√±o de la textura aplicada.", "Para calcular la iluminaci√≥n de los p√≠xeles.", "Para convertir coordenadas 3D en coordenadas de pantalla, aplicando la perspectiva.", "Para normalizar los colores RGB."]],
        ["Si se aplica una matriz de escalado 3D: (2, 0, 0; 0, 3, 0; 0, 0, 1) al punto (1, 2, -5), ¬øcu√°l es el nuevo punto?", "(2, 6, -5)", ["(2, 6, -5)", "(2, 6, -10)", "(3, 4, -5)", "(1, 2, -5)"]],
        ["¬øQu√© algoritmo es m√°s utilizado para la navegaci√≥n de NPCs en mapas?", "Algoritmo A*", ["Redes Neuronales", "Minimax", "Algoritmo A*", "Perlin Noises"]],
        ["¬øLas etapas del desarrollo de un videojuego son?", "Concepto, Pre-producci√≥n, producci√≥n, QA y Cierre, Post-Release.", ["Explorar, descubrir, competir y ganar.", "Concepto, Pre-producci√≥n, producci√≥n, QA y Cierre, Post-Release.", "Espiral, cascada, iterativo, incremental.", "Concepto, producci√≥n, QA y Cierre, Post-Release."]],
        ["¬øCu√°l es una de las principales ventajas de Unity?", "Soporte para m√∫ltiples plataformas", ["Exclusivo para juegos AAA", "No requiere conocimientos de programaci√≥n", "Gratuito sin limitaciones", "Soporte para m√∫ltiples plataformas"]],
        ["¬øCu√°l de los siguientes componentes es responsable del rendimiento gr√°fico en una consola?", "GPU", ["Disco duro", "RAM", "GPU", "CPU"]],
        ["¬øQu√© es un motor de videojuegos?", "Una plataforma que unifica programaci√≥n y elementos creativos.", ["Un sistema para gestionar servidores multijugador.", "Una plataforma que unifica programaci√≥n y elementos creativos.", "Un lenguaje de programaci√≥n exclusivo para juegos.", "Un hardware especializado para ejecutar juegos."]],
        ["¬øC√≥mo afecta el uso de servidores dedicados a los videojuegos en l√≠nea?", "Reduce la latencia y mejora la estabilidad", ["No tiene impacto", "Reduce la latencia y mejora la estabilidad", "Hace los juegos m√°s baratos", "Permite jugar sin conexi√≥n"]],
        ["¬øCu√°l de las siguientes tareas pertenece a la fase de preproducci√≥n?", "Creaci√≥n del prototipo", ["Desarrollo del motor gr√°fico", "Testeo final del juego", "Lanzamiento del juego", "Creaci√≥n del prototipo"]],
        ["¬øCu√°l de los siguientes aspectos se eval√∫a en las pruebas de jugabilidad?", "Equilibrio y experiencia del jugador", ["Calidad gr√°fica", "Publicidad en redes sociales", "Estrategias de marketing", "Equilibrio y experiencia del jugador"]],
        ["¬øQu√© motor permite gestionar el estado actual del juego mediante guardado y carga?", "Motor de persistencia.", ["Motor de escenas.", "Motor de entrada.", "Motor de scripting.", "Motor de persistencia."]],
        ["¬øCu√°l de las siguientes t√©cnicas se basa en reglas predefinidas y respuestas espec√≠ficas a est√≠mulos?", "M√°quinas de Estados Finitos (FSM)", ["M√°quinas de Estados Finitos (FSM)", "Redes Neuronales", "Aprendizaje Profundo", "Algoritmo Gen√©tico."]],
        ["¬øQu√© se recomienda para acelerar el desarrollo de un videojuego?", "Usar bibliotecas y motores existentes", ["Evitar el uso de prototipos", "Inventar todas las herramientas desde cero", "Usar bibliotecas y motores existentes", "Focalizarse solo en el dise√±o visual"]],
        ["¬øCu√°l de estas t√©cnicas permite que un NPC aprenda de la experiencia y mejore su comportamiento con el tiempo?", "Aprendizaje reforzado", ["√Årboles de decisi√≥n", "Shaders gr√°ficos", "Pathfinding", "Aprendizaje reforzado"]],
        ["¬øCu√°l de los siguientes motores es gratuito y de c√≥digo abierto con una comunidad activa?", "Godot Engine.", ["Roblox Studio.", "Stencyl.", "Godot Engine.", "Adventure Game Studio."]],
        ["¬øQu√© representa el gameplay en el dise√±o del videojuego?", "Las mec√°nicas y experiencia del jugador", ["La narrativa del juego", "Las mec√°nicas y experiencia del jugador", "Los efectos visuales y sonoros", "El dise√±o de los personajes secundarios"]],
        ["¬øQu√© componente de la arquitectura de juegos en red gestiona la comunicaci√≥n entre jugadores?", "El servidor", ["La f√≠sica del juego", "El servidor", "La tarjeta de video", "El motor gr√°fico"]]
    ];

    let respuestasCorrectas = 0;
    const form = document.getElementById("cuestionario");

    function renderizarCuestionario() {
      respuestasCorrectas = 0;
      form.innerHTML = '';

      preguntas.forEach(([pregunta, respuestaCorrecta, opciones], i) => {
        const preguntaElement = document.createElement('div');
        preguntaElement.className = 'pregunta';
        preguntaElement.innerHTML = `
          <label>${i + 1}. ${pregunta}</label>
          <div class="opciones">
            ${opciones.map((opcion, j) => `
              <label class="opcion">
                <input type="radio" name="respuesta${i}" value="${escapeHtml(opcion)}">
                ${escapeHtml(opcion)}
              </label>
            `).join('')}
          </div>
          <div class="botones">
            <button type="button" class="verificar" onclick="verificarRespuesta(${i}, '${escapeHtml(respuestaCorrecta)}')">
              Verificar
            </button>
          </div>
          <div class="feedback" id="feedback${i}"></div>
        `;
        form.appendChild(preguntaElement);
      });

      document.getElementById('resultados').style.display = 'none';
    }

    function escapeHtml(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }

    function verificarRespuesta(index, respuestaCorrecta) {
      const opciones = document.getElementsByName(`respuesta${index}`);
      let seleccion = "";
      opciones.forEach((opcion) => {
        if (opcion.checked) seleccion = opcion.value;
      });

      const feedback = document.getElementById(`feedback${index}`);
      if (seleccion === respuestaCorrecta) {
        feedback.innerHTML = "‚úì <span class='correcto'>¬°Correcto! Buen trabajo.</span>";
        feedback.style.display = 'block';
        respuestasCorrectas++;
      } else if (seleccion === "") {
        feedback.innerHTML = "‚ö† <span class='incorrecto'>Por favor selecciona una respuesta.</span>";
        feedback.style.display = 'block';
        return;
      } else {
        feedback.innerHTML = `‚úó <span class='incorrecto'>Incorrecto. La respuesta correcta es: ${respuestaCorrecta}</span>`;
        feedback.style.display = 'block';
      }

      verificarCompletado();
    }

    function verificarCompletado() {
      let todasRespondidas = true;
      preguntas.forEach((_, i) => {
        const opciones = document.getElementsByName(`respuesta${i}`);
        let seleccionada = false;
        opciones.forEach(opcion => {
          if (opcion.checked) seleccionada = true;
        });
        if (!seleccionada) todasRespondidas = false;
      });

      if (todasRespondidas) {
        mostrarResultados();
      }
    }

    function mostrarResultados() {
      const resultados = document.getElementById('resultados');
      const puntuacion = document.getElementById('puntuacion');
      const progressBar = document.getElementById('progress-bar');

      const porcentaje = Math.round((respuestasCorrectas / preguntas.length) * 100);

      puntuacion.textContent = `Has acertado ${respuestasCorrectas} de ${preguntas.length} preguntas (${porcentaje}%)`;
      progressBar.style.width = `${porcentaje}%`;

      if (porcentaje >= 80) {
        progressBar.style.backgroundColor = 'var(--success-color)';
      } else if (porcentaje >= 50) {
        progressBar.style.backgroundColor = 'var(--warning-color)';
      } else {
        progressBar.style.backgroundColor = 'var(--accent-color)';
      }

      resultados.style.display = 'block';
      window.scrollTo({
        top: document.body.scrollHeight,
        behavior: 'smooth'
      });
    }

    function reiniciarCuestionario() {
      renderizarCuestionario();
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Cargar el tema guardado
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      document.getElementById('themeToggle').textContent = '‚òÄÔ∏è';
    }

    renderizarCuestionario();
  </script>
</body>
</html>
